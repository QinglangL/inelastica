

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>FAQ &mdash; Inelastica |release| documentation</title>
  

  
  
  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  

  

  
        <link rel="index" title="Index"
              href="genindex.html"/>
        <link rel="search" title="Search" href="search.html"/>
    <link rel="top" title="Inelastica |release| documentation" href="index.html"/>
        <link rel="next" title="More documentation" href="more.html"/>
        <link rel="prev" title="Examples" href="examples.html"/> 

  
  <script src="_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="index.html" class="icon icon-home"> Inelastica
          

          
            
            <img src="_static/82px-Inelastica-logo-mini.png" class="logo" />
          
          </a>

          
            
            
              <div class="version">
                1.3.0-6
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="install.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="examples.html">Examples</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">FAQ</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#eigenchannels">EigenChannels</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#device-region-error">Device region error</a></li>
<li class="toctree-l3"><a class="reference internal" href="#wave-functions-not-created">Wave functions not created</a></li>
<li class="toctree-l3"><a class="reference internal" href="#user-description-of-problem">User description of problem</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#known-problems">Known problems</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#problems-in-version-1-1">Problems in version 1.1</a></li>
<li class="toctree-l3"><a class="reference internal" href="#problems-in-version-1-0-but-solved-in-1-1">Problems in version 1.0 (but solved in 1.1)</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="more.html">More documentation</a></li>
</ul>
<p class="caption"><span class="caption-text">Publications</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="cite.html">Citing</a></li>
<li class="toctree-l1"><a class="reference internal" href="publications.html">Publications using Inelastica</a></li>
</ul>
<p class="caption"><span class="caption-text">Reference documentation</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="api.html">API documentation</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">Inelastica</a>
        
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html">Docs</a> &raquo;</li>
        
      <li>FAQ</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="_sources/faq.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="faq">
<span id="id1"></span><h1>FAQ<a class="headerlink" href="#faq" title="Permalink to this headline">¶</a></h1>
<p>If you have questions, please send us an email. We will try to help out as much as possible providing that you update this documentation with the help you receive.</p>
<div class="section" id="eigenchannels">
<h2>EigenChannels<a class="headerlink" href="#eigenchannels" title="Permalink to this headline">¶</a></h2>
<div class="section" id="device-region-error">
<h3>Device region error<a class="headerlink" href="#device-region-error" title="Permalink to this headline">¶</a></h3>
<div class="highlight-bash"><div class="highlight"><pre><span></span>ERROR! Too much overlap directly from left-top right
Make Device Region larger!
</pre></div>
</div>
<p>This can show up when you are running the Eigenchannel script, either it means just what it saying that Hamiltonian contains overlap between the left and right region, which means you need to make your device region larger or maybe redefine <code class="docutils literal"><span class="pre">TS.TBT.PDOSFrom</span></code> and <code class="docutils literal"><span class="pre">TS.TBT.PDOSTo</span></code>.</p>
<p>This error can also show up if there is something wrong with the structure. The atoms have to be organized according to left electrode-center region-right electrode and <em>pyTBT</em> also assumes that z-coord of left electrode &lt; z-coord of right electrode, so maybe periodic boundary conditions has to be added to get the coordinates right. A recommended structure in z-direction is</p>
<div class="highlight-bash"><div class="highlight"><pre><span></span>ABABabab-mol-ababABAB
</pre></div>
</div>
<p>where <em>AB</em> are unrelaxed and <em>ab</em> are relaxed layers.</p>
</div>
<div class="section" id="wave-functions-not-created">
<h3>Wave functions not created<a class="headerlink" href="#wave-functions-not-created" title="Permalink to this headline">¶</a></h3>
<p>EigenChannels finishes without any errors, but has not written any files with the scattering states (WFs), you have probably encountered the following problem: <em>The energy where the WFs are requested is not among the energy points in the range specified by (TS.TBT.Emin, TS.TBT.Emax, TS.TBT.NPoints)</em>. If you do not worry about plotting transmission functions, but just need the WFs at the Fermi energy, use these values:</p>
<div class="highlight-bash"><div class="highlight"><pre><span></span>TS.TBT.Emin      <span class="m">0</span>.0 eV
TS.TBT.Emax      <span class="m">1</span>.0 eV
TS.TBT.Npoints   <span class="m">1</span>
</pre></div>
</div>
</div>
<div class="section" id="user-description-of-problem">
<h3>User description of problem<a class="headerlink" href="#user-description-of-problem" title="Permalink to this headline">¶</a></h3>
<ol class="arabic">
<li><p class="first">During the calculation of the toturial(AuH2), I faced following problem. When I type &#8216;EigenChannels EC&#8217; in the <em>TSrun</em> directory, I got the following message:</p>
<div class="highlight-bash"><div class="highlight"><pre><span></span>Reading geometry from <span class="s2">&quot;Chain.XV&quot;</span> file
SiestaIO.ReadXVFile: Reading Chain.XV
SiestaIO.ReadXVFile: Reading /home/enixchen/AuH2/L10.00/TSrun/Chain.XV
Traceback <span class="o">(</span>most recent call last<span class="o">)</span>:
 File <span class="s2">&quot;/usr/local/bin/EigenChannels&quot;</span>, line <span class="m">4</span>, in &lt;module&gt;
   IE.main<span class="o">()</span>
 File <span class="s2">&quot;/usr/local/lib/python2.6/dist-packages/Inelastica/EigenChannelspy&quot;</span>,
line <span class="m">32</span>, in main
   readbasis<span class="o">()</span>
 File <span class="s2">&quot;/usr/local/lib/python2.6/dist-packages/Inelastica/EigenChannelspy&quot;</span>,
line <span class="m">56</span>, in readbasis
   <span class="nv">basis</span> <span class="o">=</span> SIO.BuildBasis<span class="o">(</span>fn<span class="o">[</span><span class="m">0</span><span class="o">]</span>, general.from_atom, general.to_atom<span class="o">)</span>
 File <span class="s2">&quot;/usr/local/lib/python2.6/dist-packages/Inelastica/SiestaIO.py&quot;</span>, line
<span class="m">1160</span>, in BuildBasis
   <span class="nv">nn</span> <span class="o">+=</span> ions<span class="o">[</span>an<span class="o">]</span>.numorb
KeyError: <span class="m">79</span>
When I <span class="nb">type</span> <span class="s1">&#39;python Phonon.py&#39;</span> in PHrun directory, following error occured
in the log file
Traceback <span class="o">(</span>most recent call last<span class="o">)</span>:
 File <span class="s2">&quot;PHrun.py&quot;</span>, line <span class="m">15</span>, in &lt;module&gt;&gt;
 <span class="nv">PrintSOrbitals</span><span class="o">=</span>True<span class="o">)</span>
 File <span class="s2">&quot;/usr/local/lib/python2.6/dist-packages/Inelastica/Phonons.py&quot;</span>, line
 <span class="m">207</span>, in Analyze
   orbitalIndices,nao <span class="o">=</span>
 GetOrbitalIndices<span class="o">(</span>tree<span class="o">[</span><span class="m">0</span><span class="o">][</span><span class="m">2</span><span class="o">]</span>,atomnumberNotSubstituted<span class="o">)</span>
 File <span class="s2">&quot;/usr/local/lib/python2.6/dist-packages/Inelastica/Phonons.py&quot;</span>, line
 <span class="m">363</span>, in GetOrbitalIndices
   <span class="nv">nao</span> <span class="o">=</span> atomnumber2nao<span class="o">[</span>num<span class="o">]</span>
 KeyError: <span class="m">79</span>
</pre></div>
</div>
<p><strong>solution</strong></p>
<p><a class="reference external" href="https://departments.icmab.es/leem/siesta">SIESTA</a> will generate the <em>*.ion.nc</em> files, which are needed by <a class="reference external" href="http://dipc.ehu.es/frederiksen/inelastica-docs">Inelastica</a> package, during the calculation if your SIESTA is netCDF supported. Please reinstall your <a class="reference external" href="https://departments.icmab.es/leem/siesta">SIESTA</a> with netCDF supported.</p>
</li>
</ol>
</div>
</div>
<div class="section" id="known-problems">
<h2>Known problems<a class="headerlink" href="#known-problems" title="Permalink to this headline">¶</a></h2>
<div class="section" id="problems-in-version-1-1">
<h3>Problems in version 1.1<a class="headerlink" href="#problems-in-version-1-1" title="Permalink to this headline">¶</a></h3>
<p>Using more than one basis set for one type of atom is problematic. The reason is that the <em>pyTBT</em> and <em>EigenChannel</em> scripts identify the basis for each atom using only the atom number, i.e., not the internal numbering used inside Siesta. This should be solved in <a class="reference external" href="http://github.com/tfrederiksen/inelastica/releases">release 1.2</a>.</p>
</div>
<div class="section" id="problems-in-version-1-0-but-solved-in-1-1">
<h3>Problems in version 1.0 (but solved in 1.1)<a class="headerlink" href="#problems-in-version-1-0-but-solved-in-1-1" title="Permalink to this headline">¶</a></h3>
<p><em>Eigenchannels</em> and/or <em>pyTBT</em> may crash with confusing error messages. Please note that this behavior could be due to one of the following problems:</p>
<ul class="simple">
<li><em>Eigenchannels</em> and <em>pyTBT</em> needs you to define a device subspace using the <code class="docutils literal"><span class="pre">TS.TBT.PDOSFrom</span></code> / <code class="docutils literal"><span class="pre">TS.TBT.PDOSTo</span></code> keywords.</li>
<li>Crashes asking for profile library. <strong>Solution:</strong> remove any reference to profile in package directory, reinstall.</li>
<li>&#8220;%include&#8221; commands cannot have a comment on the same line. (Assumes the comment is part of the filename ...)</li>
</ul>
</div>
</div>
</div>


           </div>
           <div class="articleComments">
            
           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="more.html" class="btn btn-neutral float-right" title="More documentation" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="examples.html" class="btn btn-neutral" title="Examples" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2002-2018, Magnus Paulsson and Thomas Frederiksen.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'./',
            VERSION:'1.3.0-6',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true,
            SOURCELINK_SUFFIX: '.txt'
        };
    </script>
      <script type="text/javascript" src="_static/jquery.js"></script>
      <script type="text/javascript" src="_static/underscore.js"></script>
      <script type="text/javascript" src="_static/doctools.js"></script>
      <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>

  

  
  
    <script type="text/javascript" src="_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>